---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';

interface Props {
  images: Array<{
    data: ImageMetadata;
    alt: string;
  }>;
}

const { images } = Astro.props;
---

<div class="gallery">
  {
    images.map(({ data, alt }) => (
      <figure>
        <Image src={data} alt={alt} />
      </figure>
    ))
  }
</div>

<style>
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    grid-auto-rows: 1fr;
    grid-gap: 1em;

    figure {
      display: flex;
      flex-direction: column;
      margin: 0;
    }

    img {
      flex: 1;
      object-fit: cover;
      max-width: 100%;
    }

    .featured {
      grid-row: span 2;
      grid-column: span 2;
    }
  }
</style>
